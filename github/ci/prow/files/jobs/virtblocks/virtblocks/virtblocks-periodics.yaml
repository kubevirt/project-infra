presubmits:
  virtblocks/virtblocks:
  - name: pull-virtblocks-build
    decorate: true
    always_run: true
    spec:
      containers:
        - image: quay.io/virtblocks/buildenv:1.0.0
          command:
            - "make"
            - "build"
          env:
            - name: VIRTBLOCKS_LANGUAGE
              value: "golang"
            - name: GO111MODULE
              value: "on"
            - name: XDG_CACHE_HOME
              value: "/tmp/.cache"
  - name: pull-virtblocks-vet
    decorate: true
    always_run: true
    spec:
      containers:
        - image: quay.io/virtblocks/buildenv:1.0.0
          command:
            - "make"
            - "vet"
          env:
            - name: VIRTBLOCKS_LANGUAGE
              value: "golang"
            - name: GO111MODULE
              value: "on"
            - name: XDG_CACHE_HOME
              value: "/tmp/.cache"
  - name: pull-virtblocks-gofmt
    decorate: true
    always_run: true
    spec:
      containers:
        - image: quay.io/virtblocks/buildenv:1.0.0
          command:
            - "make"
            - "verify-fmt"
          env:
            - name: VIRTBLOCKS_LANGUAGE
              value: "golang"
            - name: GO111MODULE
              value: "on"
            - name: XDG_CACHE_HOME
              value: "/tmp/.cache"
