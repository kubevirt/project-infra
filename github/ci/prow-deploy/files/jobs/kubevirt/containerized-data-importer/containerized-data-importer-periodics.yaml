periodics:
- name: periodic-publish-cdi-flakefinder-weekly-report
  cron: "0 1 * * *"
  annotations:
    testgrid-create-test-group: "false"
  decorate: true
  spec:
    nodeSelector:
      type: vm
      zone: ci
    containers:
    - image: quay.io/kubevirtci/flakefinder@sha256:9d42d74ead8740aa35d583de280555b80b49b55cbab8d7cc77bb780da138b794
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/gcs/service-account.json
      command:
      - "/app/robots/cmd/flakefinder/app.binary"
      args:
      - --dry-run=false
      - --token=/etc/github/oauth
      - --merged=168h
      - --report_output_child_path=kubevirt/containerized-data-importer
      - --repo=containerized-data-importer
      - --skip_results_before_start_of_report=false
      volumeMounts:
      - name: token
        mountPath: /etc/github
      - name: gcs
        mountPath: /etc/gcs
        readOnly: true
    volumes:
    - name: token
      secret:
        secretName: oauth-token
    - name: gcs
      secret:
        secretName: gcs
- name: periodic-publish-cdi-flakefinder-daily-report
  cron: "35 0 * * *"
  annotations:
    testgrid-create-test-group: "false"
  decorate: true
  spec:
    nodeSelector:
      type: vm
      zone: ci
    containers:
    - image: quay.io/kubevirtci/flakefinder@sha256:9d42d74ead8740aa35d583de280555b80b49b55cbab8d7cc77bb780da138b794
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/gcs/service-account.json
      command:
      - "/app/robots/cmd/flakefinder/app.binary"
      args:
      - --dry-run=false
      - --token=/etc/github/oauth
      - --merged=24h
      - --report_output_child_path=kubevirt/containerized-data-importer
      - --repo=containerized-data-importer
      - --skip_results_before_start_of_report=false
      volumeMounts:
      - name: token
        mountPath: /etc/github
      - name: gcs
        mountPath: /etc/gcs
        readOnly: true
    volumes:
    - name: token
      secret:
        secretName: oauth-token
    - name: gcs
      secret:
        secretName: gcs
- name: periodic-publish-cdi-flakefinder-four-weekly-report
  interval: 168h
  annotations:
    testgrid-create-test-group: "false"
  decorate: true
  spec:
    nodeSelector:
      type: vm
      zone: ci
    containers:
    - image: quay.io/kubevirtci/flakefinder@sha256:9d42d74ead8740aa35d583de280555b80b49b55cbab8d7cc77bb780da138b794
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/gcs/service-account.json
      command:
      - "/app/robots/cmd/flakefinder/app.binary"
      args:
      - --dry-run=false
      - --token=/etc/github/oauth
      - --merged=672h
      - --report_output_child_path=kubevirt/containerized-data-importer
      - --repo=containerized-data-importer
      - --skip_results_before_start_of_report=false
      volumeMounts:
      - name: token
        mountPath: /etc/github
      - name: gcs
        mountPath: /etc/gcs
        readOnly: true
    volumes:
    - name: token
      secret:
        secretName: oauth-token
    - name: gcs
      secret:
        secretName: gcs
