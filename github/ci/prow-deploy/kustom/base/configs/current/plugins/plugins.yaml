config_updater:
  maps:
    github/ci/prow-deploy/kustom/base/configs/current/config/config.yaml:
      name: config
      clusters:
        default:
          - kubevirt-prow
    github/ci/prow-deploy/files/jobs/**/*.yaml:
      gzip: true
      name: job-config
      clusters:
        default:
          - kubevirt-prow
    github/ci/prow-deploy/kustom/base/configs/current/plugins/plugins.yaml:
      name: plugins
      clusters:
        default:
          - kubevirt-prow
    github/ci/prow-deploy/kustom/base/configs/current/labels/labels.yaml:
      name: label-config
      clusters:
        default:
          - kubevirt-prow

plugins:

  k8snetworkplumbingwg/kubemacpool:
    plugins:
    - approve
    - assign
    - blunderbuss
    - cat
    - dco
    - dog
    - hold
    - label
    - lgtm
    - lifecycle
    - override
    - pony
    - release-note
    - size
    - skip
    - trigger
    - verify-owners
    - wip

  k8snetworkplumbingwg/ovs-cni:
    plugins:
    - approve
    - dco
    - hold
    - lgtm
    - owners-label
    - release-note
    - trigger
    - verify-owners
    - wip


  # we don't get events from there, it has no effect
  # but it is needed to host jobs on our prow and still
  # have a consistent valid config.
  kubernetes-sigs/cluster-api-provider-kubevirt:
    plugins:
    - trigger


  kubevirt:
    plugins:
    - assign
    - blunderbuss
    - cat
    - dco
    - dog
    - hold
    - invalidcommitmsg
    - label
    - lifecycle
    - override
    - pony
    - size
    - skip
    - verify-owners
    - wip

  kubevirt/ansible-kubevirt-modules:
    plugins:
    - approve
    - lgtm
    - owners-label
    - release-note
    - trigger

  kubevirt/bridge-marker:
    plugins:
    - approve
    - lgtm
    - owners-label
    - release-note
    - trigger

  kubevirt/cloud-image-builder:
    plugins:
    - approve
    - lgtm
    - owners-label
    - trigger

  kubevirt/cloud-provider-kubevirt:
    plugins:
    - approve
    - lgtm
    - owners-label
    - trigger

  kubevirt/cluster-api-provider-kubevirt:
    plugins:
    - approve
    - lgtm
    - owners-label
    - trigger

  kubevirt/cluster-network-addons-operator:
    plugins:
    - approve
    - lgtm
    - owners-label
    - release-note
    - trigger

  kubevirt/common-templates:
    plugins:
    - approve
    - lgtm
    - owners-label
    - release-note
    - trigger

  kubevirt/community:
    plugins:
    - approve
    - lgtm
    - owners-label
    - trigger

  kubevirt/containerdisks:
    plugins:
    - approve
    - lgtm
    - owners-label
    - release-note
    - trigger

  kubevirt/containerized-data-importer:
    plugins:
    - approve
    - lgtm
    - owners-label
    - release-note
    - trigger

  kubevirt/controller-lifecycle-operator-sdk:
    plugins:
    - approve
    - lgtm
    - owners-label
    - release-note
    - trigger

  kubevirt/csi-driver:
    plugins:
    - approve
    - lgtm
    - owners-label
    - release-note
    - trigger

  kubevirt/cpu-nfd-plugin:
    plugins:
    - approve
    - lgtm
    - owners-label
    - release-note
    - trigger

  kubevirt/demo:
    plugins:
    - approve
    - lgtm
    - owners-label
    - trigger

  kubevirt/hostpath-provisioner:
    plugins:
    - approve
    - lgtm
    - owners-label
    - release-note
    - trigger

  kubevirt/hostpath-provisioner-operator:
    plugins:
    - approve
    - lgtm
    - owners-label
    - release-note
    - trigger

  kubevirt/hyperconverged-cluster-operator:
    plugins:
    - approve
    - lgtm
    - owners-label
    - release-note
    - trigger

  kubevirt/katacoda-scenarios:
    plugins:
    - approve
    - lgtm
    - owners-label
    - trigger

  kubevirt/kubectl-virt-plugin:
    plugins:
    - approve
    - lgtm
    - trigger

  kubevirt/kubevirt:
    plugins:
    - approve
    - lgtm
    - owners-label
    - release-note
    - trigger

  kubevirt/kubevirt-ansible:
    plugins:
    - release-note

  kubevirt/kubevirt-ssp-operator:
    plugins:
    - approve
    - lgtm
    - owners-label
    - release-note
    - trigger

  kubevirt/kubevirt-template-validator:
    plugins:
    - approve
    - lgtm
    - owners-label
    - release-note
    - trigger

  kubevirt/kubevirt-tutorial:
    plugins:
    - approve
    - lgtm
    - owners-label
    - trigger

  kubevirt/kubevirt-velero-plugin:
    plugins:
    - approve
    - lgtm
    - owners-label
    - trigger

  kubevirt/kubevirt.github.io:
    plugins:
    - approve
    - lgtm
    - owners-label
    - trigger

  kubevirt/kubevirtci:
    plugins:
    - approve
    - lgtm
    - trigger

  kubevirt/kvm-info-nfd-plugin:
    plugins:
    - approve
    - lgtm
    - owners-label
    - release-note
    - trigger

  kubevirt/libguestfs-appliance:
    plugins:
    - approve
    - lgtm
    - owners-label
    - trigger

  kubevirt/must-gather:
    plugins:
    - approve
    - lgtm
    - owners-label
    - release-note
    - trigger

  kubevirt/macvtap-cni:
    plugins:
    - approve
    - lgtm
    - owners-label
    - release-note
    - trigger

  kubevirt/machine-remediation-operator:
    plugins:
    - approve
    - lgtm
    - trigger

  kubevirt/node-labeller:
    plugins:
    - approve
    - lgtm
    - owners-label
    - release-note
    - trigger

  kubevirt/node-maintenance-operator:
    plugins:
    - approve
    - lgtm
    - owners-label
    - release-note
    - trigger

  kubevirt/project-infra:
    plugins:
    - approve
    - config-updater
    - lgtm
    - trigger

  kubevirt/qe-tools:
    plugins:
    - approve
    - lgtm
    - owners-label
    - trigger

  kubevirt/secrets:
    plugins:
    - approve
    - lgtm
    - trigger

  kubevirt/ssp-operator:
    plugins:
    - approve
    - lgtm
    - owners-label
    - release-note
    - trigger

  kubevirt/terraform-provider-kubevirt:
    plugins:
    - approve
    - lgtm
    - owners-label
    - trigger

  kubevirt/user-guide:
    plugins:
    - approve
    - lgtm
    - owners-label
    - trigger

  kubevirt/vm-import-operator:
    plugins:
    - approve
    - lgtm
    - owners-label
    - release-note
    - trigger


  nmstate/kubernetes-nmstate:
    plugins:
    - approve
    - assign
    - blunderbuss
    - cat
    - dco
    - dog
    - hold
    - label
    - lgtm
    - lifecycle
    - override
    - owners-label
    - pony
    - release-note
    - size
    - skip
    - trigger
    - verify-owners
    - wip

  nmstate/nmstate:
    plugins:
    - override
    - trigger


  virtblocks:
    plugins:
    - dco
    - trigger


external_plugins:
  libguestfs-appliance:
  - name: needs-rebase
    events:
      - pull_request
  - name: cherrypicker
  - name: release-blocker
  kubevirt:
  - name: needs-rebase
    events:
      - pull_request
  - name: cherrypicker
  - name: release-blocker
  k8snetworkplumbingwg/ovs-cni:
  - name: needs-rebase
    events:
      - pull_request
  - name: cherrypicker
  k8snetworkplumbingwg/kubemacpool:
  - name: needs-rebase
    events:
      - pull_request
  - name: cherrypicker
  nmstate/kubernetes-nmstate:
  - name: needs-rebase
    events:
      - pull_request
  - name: cherrypicker
  kubevirt/project-infra:
  - name: rehearse
    endpoint: http://prow-rehearse:9900
    events:
      - pull_request
      - issue_comment

triggers:
- repos:
  - kubevirt/project-infra
  - kubevirt/machine-remediation-operator
  - kubevirt/kubevirtci
  - kubevirt/kubevirt
  - kubevirt/containerdisks
  - kubevirt/kubevirt.github.io
  - kubevirt/cloud-image-builder
  - kubevirt/kubevirt-tutorial
  - kubevirt/containerized-data-importer
  - kubevirt/cluster-api-provider-kubevirt
  - kubevirt/hostpath-provisioner
  - kubevirt/hostpath-provisioner-operator
  - kubevirt/katacoda-scenarios
  - kubevirt/common-templates
  - kubevirt/kvm-info-nfd-plugin
  - kubevirt/cpu-nfd-plugin
  - kubevirt/node-labeller
  - kubevirt/kubevirt-template-validator
  - kubevirt/kubevirt-ssp-operator
  - kubevirt/ssp-operator
  - kubevirt/must-gather
  - kubevirt/demo
  - kubevirt/cluster-network-addons-operator
  - kubevirt/node-maintenance-operator
  - kubevirt/ansible-kubevirt-modules
  - kubevirt/hyperconverged-cluster-operator
  - kubevirt/vm-import-operator
  - kubevirt/csi-driver
  - kubevirt/community
  - kubevirt/terraform-provider-kubevirt
  - kubevirt/kubevirt-velero-plugin
  - kubevirt/qe-tools
  - kubevirt/cloud-provider-kubevirt
  - kubevirt/secrets
- repos:
  - virtblocks/virtblocks
- repos:
  - nmstate/kubernetes-nmstate
- repos:
  - k8snetworkplumbingwg/kubemacpool

approve:
- repos:
  - kubevirt/project-infra
  - kubevirt/machine-remediation-operator
  - kubevirt/kubevirtci
  - kubevirt/containerdisks
  - kubevirt/kubevirt.github.io
  - kubevirt/cloud-image-builder
  - kubevirt/community
  - kubevirt/kubevirt-tutorial
  - kubevirt/kubevirt
  - kubevirt/bridge-marker
  - kubevirt/containerized-data-importer
  - kubevirt/cluster-api-provider-kubevirt
  - kubevirt/hostpath-provisioner
  - kubevirt/hostpath-provisioner-operator
  - kubevirt/katacoda-scenarios
  - kubevirt/demo
  - kubevirt/cluster-network-addons-operator
  - nmstate/kubernetes-nmstate
  - k8snetworkplumbingwg/kubemacpool
  - kubevirt/kubectl-virt-plugin
  - kubevirt/node-maintenance-operator
  - kubevirt/ansible-kubevirt-modules
  - kubevirt/hyperconverged-cluster-operator
  - kubevirt/common-templates
  - kubevirt/kvm-info-nfd-plugin
  - kubevirt/cpu-nfd-plugin
  - kubevirt/node-labeller
  - kubevirt/kubevirt-template-validator
  - kubevirt/kubevirt-ssp-operator
  - kubevirt/ssp-operator
  - kubevirt/must-gather
  - kubevirt/csi-driver
  - kubevirt/user-guide
  - kubevirt/terraform-provider-kubevirt
  - kubevirt/kubevirt-velero-plugin
  - kubevirt/qe-tools
  - kubevirt/cloud-provider-kubevirt
  require_self_approval: true
  lgtm_acts_as_approve: false
  ignore_review_state: true
  commandHelpLink: https://go.k8s.io/bot-commands
- repos:
  - kubevirt/secrets
  require_self_approval: false
  lgtm_acts_as_approve: true
  ignore_review_state: true
  commandHelpLink: https://go.k8s.io/bot-commands

lgtm:
- repos:
  - kubevirt/machine-remediation-operator
  - kubevirt/project-infra
  - kubevirt/kubevirtci
  - kubevirt/kubevirt.github.io
  - kubevirt/cloud-image-builder
  - kubevirt/community
  - kubevirt/kubevirt-tutorial
  - kubevirt/kubevirt
  - kubevirt/containerdisks
  - kubevirt/bridge-marker
  - kubevirt/containerized-data-importer
  - kubevirt/cluster-api-provider-kubevirt
  - kubevirt/hostpath-provisioner
  - kubevirt/hostpath-provisioner-operator
  - kubevirt/katacoda-scenarios
  - kubevirt/demo
  - kubevirt/cluster-network-addons-operator
  - nmstate/kubernetes-nmstate
  - k8snetworkplumbingwg/kubemacpool
  - kubevirt/kubectl-virt-plugin
  - kubevirt/node-maintenance-operator
  - kubevirt/ansible-kubevirt-modules
  - kubevirt/hyperconverged-cluster-operator
  - kubevirt/common-templates
  - kubevirt/kvm-info-nfd-plugin
  - kubevirt/cpu-nfd-plugin
  - kubevirt/node-labeller
  - kubevirt/kubevirt-template-validator
  - kubevirt/kubevirt-ssp-operator
  - kubevirt/ssp-operator
  - kubevirt/must-gather
  - kubevirt/csi-driver
  - kubevirt/user-guide
  - kubevirt/terraform-provider-kubevirt
  - kubevirt/kubevirt-velero-plugin
  - kubevirt/qe-tools
  - kubevirt/cloud-provider-kubevirt
  - kubevirt/secrets
  review_acts_as_lgtm: true

override:
  allow_top_level_owners: true
